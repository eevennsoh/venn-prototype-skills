---
description: Rules for using the Atlassian Design System
globs:
  - "**/*.tsx" # React TypeScript components
  - "**/*.ts" # TypeScript files
  - "**/*.jsx" # React JavaScript components
  - "**/*.js" # JavaScript files
alwaysApply: true
---

# ADS Guidelines

## Core Principle: ADS First, Always

**Default Approach**: Always attempt to use Atlassian Design System (@atlaskit) components, tokens, and icons FIRST before considering alternatives. Only fall back to custom solutions like lucide-react, shadcn or radix when ADS doesn't provide the needed functionality.

**Priority**: Preserve existing design and functionality
**Priority**: Use design tokens first ‚Üí Tailwind classes for missing tokens ‚Üí inline styles as last resort
**Priority**: ADS components first ‚Üí Shadcn for anything missing ‚Üí custom components as a last resort

## üéØ Design Tokens - The Foundation

**CRITICAL**: Always use ADS design tokens for styling properties. They ensure consistency, theming support, and accessibility. Use `token()` function from `@atlaskit/tokens` for all style values.

### üìù Token Usage Pattern

```tsx
import { token } from "@atlaskit/tokens";

// Colors
const textColor = token("color.text");
const accentColor = token("color.text.accent.lime");
const backgroundColor = token("color.background.neutral");

// Typography (for custom text styling)
const largeHeading = token("font.heading.xxlarge");
const bodyText = token("font.body.medium");

// Spacing (padding, margin, gap)
const spacing = token("space.100");
const largeSpacing = token("space.500");

// Borders
const borderWidth = token("border.width");
const borderColor = token("color.border");

// Elevation (surfaces, shadows)
const surfaceElevation = token("elevation.surface");
const overlayElevation = token("elevation.surface.overlay");
const overlayShadow = token("elevation.shadow.overlay");

// Border Radius
const smallRadius = token("radius.small"); // 4px
const mediumRadius = token("radius.medium"); // 6px
const largeRadius = token("radius.large"); // 8px
const circleRadius = token("radius.full"); // Perfect circle

// Opacity
const disabledOpacity = token("opacity.disabled");
const loadingOpacity = token("opacity.loading");
```

## Quick Navigation Guide

### üé® **Colors**

- **FIRST USE**: ADS design tokens for all colors via `token('color.*')`
- **EXAMPLES**: `token('color.text')`, `token('color.text.accent.lime')`, `token('color.background.neutral')`
- **NEVER USE**: Hex values like `#FFFFFF`, hardcoded color names
- **REFERENCE**: [ADS Color Tokens](https://atlassian.design/foundations/design-tokens)
- **FALLBACK**: Tailwind color classes only when no appropriate token exists; Use Tailwind classes as final fallback

### üî§ **Typography (Font, Text Styles)**

#### Headings (h1 - h6)

- **ALWAYS USE**: native html heading elements like `<h1>`, `<h2>`, etc.
- **NEVER USE**: ADS Heading component from `@atlaskit/heading` as color can't be pass in easily
- **Heading automatically handles**: Font tokens, color tokens, spacing tokens
- **FALLBACK**: Custom text styling with font tokens only if ADS doesn't cover the use case; Use Tailwind classes as final fallback

#### Body Text (p, span, div)

- **NEVER USE**: native html text elements like `<p>`, `<span>`, `<div>` for content
- **NEVER USE**: `as` prop, <Text size="large" as="h1">Body text</Text>
- **ALWAYS USE**: ADS Text component from `@atlaskit/primitives`
- **IMPORT**: `import {Text} from '@atlaskit/primitives';`
- **TEXT AUTOMATICALLY HANDLES**: Font tokens, color tokens, line-height tokens
- **CUSTOM STYLING**: Apply ADS font tokens via `token('font.body.*')` if needed
- **EXAMPLES**: `token('font.body.medium')`, `token('font.body.large')`
- **NEVER USE** hardcoded font-size, line-height, letter-spacing values
- **FALLBACK**: Use Tailwind classes as final fallback

### üìè **Spacing (Padding, Margin, Gaps)**

- **ALWAYS USE** ADS space tokens via `token('space.*')`
- **EXAMPLES**: `token('space.025')`, `token('space.100')`, `token('space.500')`
- **NEVER USE**: pixel values (px), rem values, or Tailwind spacing classes like `p-4`, `m-8`
- **IMPLEMENTATION**: Use inline styles with CSS variables: `style={{ padding: token('space.100') }}`
- **FALLBACK**: Only use Tailwind spacing classes if specific token doesn't exist; Use Tailwind classes as final fallback

### üñºÔ∏è **Borders**

- **ALWAYS USE**: ADS border tokens via `token('border.*')` and `token('color.border')`
- **EXAMPLES**: `token('border.width')`, `token('color.border')`, `token('color.border.bold')`
- **NEVER USE** hardcoded pixel values like `1px`, `2px`, or hex colors
- **IMPLEMENTATION**: `style={{ border: `${token('border.width')} solid ${token('color.border')}` }}`
- **FALLBACK**: Use Tailwind border classes only if no appropriate token exists; Use Tailwind classes as final fallback

### üé≠ **Elevation (Shadows)**

- **ALWAYS USE**: ADS elevation tokens via `token('elevation.*')`
- **Examples**: `token('elevation.surface')`, `token('elevation.overlay')`, `token('elevation.raised')`
- **NEVER USE** hardcoded box-shadow values or custom shadow definitions
- **IMPLEMENTATION**: `style={{ boxShadow: token('elevation.shadow.overlay') }}`
- **USE CASES**: Cards, panels, modals, popovers, dropdowns
- **FALLBACK**: Use Tailwind classes as final fallback

### üîç **Border Radius**

- **ALWAYS USE**: ADS radius tokens via `token('radius.*')`
- **NEVER USE**: hardcoded pixel values like `4px`, `8px`, percentage values like `50%`, or direct design tokens `tokens('radius.100')`
- **NEVER USE**: `border.radius.*` - the correct prefix is just `radius.*`
- **IMPLEMENTATION**: `style={{ borderRadius: token('radius.medium') }}`
- **FOR CIRCLES**: Use `token('radius.full')` instead of `50%`
- **FALLBACK**: Use Tailwind classes as final fallback

### üëÅÔ∏è **Opacity**

- **ALWAYS USE**: ADS opacity tokens via `token('opacity.*')`
- **EXAMPLES**: `token('opacity.disabled')`, `token('opacity.loading')`, `token('opacity.hover')`
- **NEVER USE**: hardcoded opacity values like `0.5`, `0.7`, or `opacity-50`
- **IMPLEMENTATION**: `style={{ opacity: token('opacity.disabled') }}`
- **USE CASES**: Disabled states, loading indicators, hover effects, transitions
- **FALLBACK**: Use Tailwind classes as final fallback

### üåÄ **Transitions & Animation**

- **ALWAYS USE**: native CSS `transition`/`animation` declarations first; they are performant and align with ADS guidance
- **TOKENS ONLY**: Motion duration, easing curves, and scale values must come directly from CSS custom properties declared in `@ads-tokens.css`
- **NEVER USE**: `token()` function for motion values - always use `var(--ds-*)` directly
- **FALLBACK**: When CSS alone cannot express the desired behavior (complex sequencing, scroll-linked motion), use [`motion.dev`](https://motion.dev/) React helpers while still feeding them ADS tokens via `var(--ds-*)`

#### **IMPLEMENTAION EXAMPLES**

```tsx
// Fade in with slide down effect
<div
	style={{
		// Use duration and easing curve tokens
		transition: `opacity var(--ds-duration-200) var(--ds-ease-40-in-out),
		             transform var(--ds-duration-200) var(--ds-ease-40-in-out)`,
		opacity: isVisible ? 1 : 0,
		// Slide down from slightly above (use negative pixel value for translateY)
		transform: isVisible ? 'translateY(0)' : 'translateY(-8px)',
	}}
/>

// Scale animation with exit curve
<div
	style={{
		transition: `all var(--ds-duration-400) var(--ds-ease-cubic-out)`,
		// Use scale tokens for zoom in/out effects
		transform: isExiting
			? 'scale(var(--ds-scale-95))'
			: 'scale(var(--ds-scale-100))',
		opacity: isExiting ? 0 : 1,
	}}
/>

// Combined scale and fade for entrance
<div
	style={{
		transition: `transform var(--ds-duration-200) var(--ds-ease-40-in-out),
		             opacity var(--ds-duration-200) var(--ds-ease-40-in-out)`,
		transform: isEntering
			? 'scale(var(--ds-scale-100))'
			: 'scale(var(--ds-scale-95))',
		opacity: isEntering ? 1 : 0,
	}}
/>
```

### üé® **Lozenge**

- **NEVER USE**: custom lozenge implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/lozenge`
- **ALWAYS USE**: semantic appearances for consistent meaning

### üé® **Buttons**

- **NEVER USE**: native `<button>` elements with Tailwind classes
- **ALWAYS USE**: import from `@atlaskit/button/new`
- **INSTEAD USE**: Button for buttons with text and icons, use IconButon for icon only buttons without a label, and use DropdownMenu for buttons with a chevron appended

### üìê **Layout & Structure**

- **ALWAYS USE**: divs with inline styles and spacing tokens for anything autolayout or layout

### üéØ **Icons**

- **NEVER USE**: an icon from `@atlaskit/icon/glyph/`, this is deprecated
- **ALWAYS USE**: an icon from `@atlaskit/icon/core/` and `@atlaskit/icon-lab/core/`
- **FIRST USE**: Use ADS icon library exclusively
- **NAVIGATE TO**: #icons for icon implementation
- **PROCESS**: Always search ADS icons before considering alternatives
- **NEVER USE** suggest icons not listed below
- **NEVER USE** invent or guess icon names
- **ALWAYS USE** verify the exact icon name exists

### üìä **Progress Bar**

- **NEVER USE**: custom progress implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/progress-bar`
- **USE CASES**: Loading states, completion tracking, file uploads
- **KEY PROPS**: `value` (0-100), `isIndeterminate`, `appearance`

### üóÇÔ∏è **Drawer**

- **NEVER USE**: custom drawer/modal implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/drawer`
- **USE CASES**: Side panels, detailed views, secondary content
- **KEY PROPS**: `isOpen`, `onClose`, `width`, `placement`

### ‚òëÔ∏è **Checkbox**

- **NEVER USE**: native `<input type="checkbox">` elements with Tailwind classes
- **ALWAYS USE**: import from `@atlaskit/checkbox`
- **USE CASES**: Form selections, multi-select lists, settings toggles
- **KEY PROPS**: `isChecked`, `onChange`, `isIndeterminate`, `isDisabled`

### üö® **Banner**

- **NEVER USE**: custom alert/notification implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/banner`
- **USE CASES**: System messages, warnings, announcements, errors
- **KEY PROPS**: `appearance` (error, warning, announcement), `isOpen`, `onClose`

### üîÑ **Toggle**

- **NEVER USE**: custom toggle/switch implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/toggle`
- **USE CASES**: Settings switches, feature toggles, on/off states
- **KEY PROPS**: `isChecked`, `onChange`, `isDisabled`, `size`

### üè∑Ô∏è **Tag**

- **NEVER USE**: custom tag implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/tag`
- **USE CASES**: Labels, categories, filters, removable items
- **KEY PROPS**: `text`, `color`, `removeButtonLabel`, `onRemove`

### üìù **Textarea**

- **NEVER USE**: native `<textarea>` elements with Tailwind classes
- **ALWAYS USE**: import from `@atlaskit/textarea`
- **USE CASES**: Multi-line text input, comments, descriptions
- **KEY PROPS**: `value`, `onChange`, `placeholder`, `isDisabled`, `isRequired`

### üìë **Tabs**

- **NEVER USE**: custom tab implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/tabs`
- **USE CASES**: Content organization, navigation within sections
- **KEY PROPS**: `tabs`, `selected`, `onChange`, `isDisabled`

### üíÄ **Skeleton**

- **NEVER USE**: custom loading skeleton implementations with Tailwind
- **ALWAYS USE**: import from `@atlaskit/skeleton`
- **USE CASES**: Loading states, content placeholders, progressive loading
- **KEY PROPS**: `width`, `height`, `isShimmering`, `testId`

### üîò **Radio**

- **NEVER USE**: native `<input type="radio">` elements with Tailwind classes
- **ALWAYS USE**: import from `@atlaskit/radio`
- **USE CASES**: Single selection from multiple options, form choices
- **KEY PROPS**: `isChecked`, `onChange`, `isDisabled`, `value`

## Decision Tree

```
Need UI Element?
‚îú‚îÄ‚îÄ Check ADS Components ‚Üí Found? ‚Üí Use ADS
‚îú‚îÄ‚îÄ Check ADS Tokens ‚Üí Found? ‚Üí Use Tokens
‚îú‚îÄ‚îÄ Check ADS Icons ‚Üí Found? ‚Üí Use Icons
‚îî‚îÄ‚îÄ No ADS Solution? ‚Üí Document why + Create minimal custom solution
```

## Key Reminders

3. **Always start with ADS** - Don't assume something isn't available
4. **Use the guidelines** - In the guides folder (Files prefixed with "ADS"), they contain working examples and best practices
5. **Tokens over hardcoded values** - Always prefer design tokens
6. **Compose before creating** - Try combining ADS components before building custom
7. **Document exceptions** - If you can't use ADS, explain why

---

_Remember: The goal is consistent, accessible, and maintainable Atlassian experiences. ADS provides this foundation._

- [Design System Documentation](https://atlassian.design/)
- [Component Library](https://atlassian.design/components)
- [Design Tokens](https://atlassian.design/foundations/design-tokens)
- [Accessibility Guidelines](https://atlassian.design/foundations/accessibility)
